<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <!-- ëª¨ë°”ì¼ ëŒ€ì‘ì„ ìœ„í•œ ë·°í¬íŠ¸ ì„¤ì • -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìƒëŒ€ê°•ë„(RS) ê¸°ë°˜ ê°•ì„¸ ì¢…ëª© ë¶„ì„ ë¦¬í¬íŠ¸</title>
  <style>
    /*********************************************
     * [1] ì „ì²´ í˜ì´ì§€ & ë°˜ì‘í˜• ê¸°ë³¸ ì„¤ì •
     *********************************************/
    body {
      font-family: Arial, sans-serif;
      margin: 0 auto;
      padding: 20px;
      max-width: 1100px; /* ë°ìŠ¤í¬í†±ì—ì„œëŠ” ìµœëŒ€ 1100px, ëª¨ë°”ì¼ì—ì„œëŠ” í™”ë©´ í­ì— ë§ê²Œ */
      box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ ë°•ìŠ¤ ì‚¬ì´ì§• */
      position: relative; /* ì‚¬ì´ë“œë°” ìœ„ì¹˜ ì¡°ì •ì„ ìœ„í•´ */
    }
    h1 {
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 10px;
      margin-top: 0; 
    }

    /*********************************************
     * [2] í–„ë²„ê±° ë©”ë‰´ & ì‚¬ì´ë“œë°”
     *********************************************/
    /* ë©”ë‰´ ì•„ì´ì½˜(ì™¼ìª½ ìƒë‹¨) */
    .menu-icon {
      font-size: 24px;
      cursor: pointer;
      position: absolute;
      left: 20px;
      top: 20px;
      z-index: 9999;
    }

    /* ì‚¬ì´ë“œë°” ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    #sidebar {
      position: fixed; 
      top: 0; 
      left: -300px;     /* ì²˜ìŒì—” í™”ë©´ ë°”ê¹¥ì— ìœ„ì¹˜ */
      width: 300px;
      height: 100%;
      background-color: #f8f8f8;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
      transition: left 0.3s ease; /* ì¢Œìš° ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
      z-index: 9998;     /* ë³¸ë¬¸ ìœ„ì— í‘œì‹œë˜ë„ë¡ */
      display: flex;
      flex-direction: column;
    }

    /* ì‚¬ì´ë“œë°” í¼ì³ì§„ ìƒíƒœ */
    #sidebar.open {
      left: 0; /* í™”ë©´ ì•ˆìœ¼ë¡œ ë“¤ì–´ì˜´ */
    }

    /* ì‚¬ì´ë“œë°” ìƒë‹¨ í—¤ë” */
    .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      font-weight: bold;
      border-bottom: 1px solid #ccc;
    }

    /* ì‚¬ì´ë“œë°” ë‹«ê¸° ë²„íŠ¼(ì˜¤ë¥¸ìª½ ìƒë‹¨) */
    .close-btn {
      font-size: 20px;
      cursor: pointer;
    }

    /* ì‚¬ì´ë“œë°” ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ */
    .sidebar-menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .sidebar-menu li {
      padding: 0.8rem 1rem;
      border-bottom: 1px solid #eee;
      cursor: pointer;
    }
    .sidebar-menu li:hover {
      background-color: #ddd;
    }

    /* ì‚¬ì´ë“œë°” ë‚´ ì»¨í…ì¸  ì˜ì—­ (í´ë¦­ ì‹œ ë³´ì—¬ì¤„ í…ìŠ¤íŠ¸) */
    .sidebar-content {
      flex: 1; /* ì‚¬ì´ë“œë°” ë†’ì´ í™•ì¥ì— ë”°ë¼ ìë™ìœ¼ë¡œ ëŠ˜ì–´ë‚¨ */
      padding: 1rem;
      overflow-y: auto; /* ë‚´ìš©ì´ ê¸¸ë©´ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ */
      font-size: 14px;
      line-height: 1.5;
    }
    .sidebar-content h3 {
      margin-top: 1rem;
      font-size: 16px;
      font-weight: bold;
    }
    .sidebar-content p {
      margin-bottom: 1rem;
    }
    .sidebar-content code {
      background-color: #eee;
      padding: 0 4px;
    }

    /*********************************************
     * [3] ìƒë‹¨ ì»¨í…Œì´ë„ˆ(ì—…ë°ì´íŠ¸ ì‹œê°„ + ê²€ìƒ‰ì°½)
     *********************************************/
    .top-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px; 
      gap: 10px;
      flex-wrap: wrap; /* í™”ë©´ ì¢ìœ¼ë©´ ì¤„ë°”ê¿ˆ */
    }
    .update-time {
      font-size: 14px;
      font-weight: bold;
      color: #333;
    }
    .search-container {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    /* ê²€ìƒ‰ì°½ & ë²„íŠ¼ */
    input {
      padding: 10px;
      font-size: 16px;
      border: 2px solid #ccc;
      border-radius: 5px;
      width: 200px;
      box-sizing: border-box;
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background-color: #0056b3;
    }

    /*********************************************
     * [4] í…Œì´ë¸” & í˜ì´ì§€ë„¤ì´ì…˜
     *********************************************/
    .table-wrapper {
      width: 100%;
      overflow-x: auto; /* í™”ë©´ì´ ì¢ì„ ë•Œ ê°€ë¡œ ìŠ¤í¬ë¡¤ */
      margin-top: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 800px; /* í™”ë©´ ì¢ì•„ë„ í…Œì´ë¸”ì´ ë„ˆë¬´ ì‘ì•„ì§€ì§€ ì•Šë„ë¡ */
    }
    th, td {
      border: 1px solid #ccc;
      padding: 12px 8px;
      text-align: center;
      white-space: nowrap;
    }
    th {
      background-color: #f2f2f2;
      font-weight: bold;
    }
    .pagination {
      margin-top: 20px;
      text-align: center;
    }
    .pagination button {
      margin: 5px;
      padding: 10px 15px;
      font-size: 14px;
      cursor: pointer;
      border: 1px solid #ccc;
      background-color: white;
      color: black;
      transition: 0.3s;
      min-width: 40px;
    }
    .pagination button:hover {
      background-color: #007bff;
      color: white;
    }
    .pagination button:disabled {
      background-color: #007bff;
      color: white;
      font-weight: bold;
      cursor: default;
    }

    /*********************************************
     * [5] ë°˜ì‘í˜• (í™”ë©´ <= 768px)
     *********************************************/
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
      h1 {
        font-size: 22px;
        margin-bottom: 15px;
      }
      .top-container {
        flex-direction: column;
        align-items: flex-start;
      }
      .search-container {
        width: 100%;
        justify-content: space-between;
        margin-bottom: 10px;
      }
      input {
        width: 100%;
        font-size: 14px;
      }
      button {
        padding: 8px 12px;
        font-size: 14px;
      }
      th, td {
        padding: 8px 4px;
        font-size: 14px;
      }
      table {
        min-width: 600px;
      }
      .pagination button {
        padding: 8px 12px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>

  <!-- [A] í–„ë²„ê±° ì•„ì´ì½˜ -->
  <div class="menu-icon" onclick="toggleSidebar()">&#9776;</div>

  <!-- [B] í˜ì´ì§€ ë©”ì¸ ì œëª© -->
  <h1>ğŸ—  ìƒëŒ€ê°•ë„(RS) ê¸°ë°˜ ê°•ì„¸ ì¢…ëª© ë¶„ì„</h1>

  <!-- [C] ìƒë‹¨(ì—…ë°ì´íŠ¸ ì‹œê°„ + ê²€ìƒ‰) -->
  <div class="top-container">
    <div id="updateTime" class="update-time"></div>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="ğŸ” ì¢…ëª©ëª…ì„ ì…ë ¥í•˜ì„¸ìš”...">
      <button onclick="filterTable()">ê²€ìƒ‰</button>
    </div>
  </div>

  <!-- [D] í…Œì´ë¸” ì˜ì—­ -->
  <div class="table-wrapper">
    <table id="stockTable">
      <thead>
        <tr>
          <th>ì¢…ëª©ì½”ë“œ</th>
          <th>ì´ë¦„</th>
          <th>ì¢…ê°€</th>
          <th>ìƒëŒ€ê°•ë„</th>
          <th>ìµœì €ê°€ ëŒ€ë¹„ ìƒìŠ¹ë¥ </th>
          <th>ìµœê³ ê°€ ëŒ€ë¹„ í•˜ë½ë¥ </th>
          <th>ì„¹í„°</th>
          <th>ì„¹í„° ìˆ˜ìµë¥  ìˆœìœ„</th>
          <th>ì‹œê°€ì´ì•¡</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <!-- í˜ì´ì§€ë„¤ì´ì…˜ ì˜ì—­ -->
  <div class="pagination" id="pagination"></div>

  <!-- [E] ì™¼ìª½ ì‚¬ì´ë“œë°” (ë©”ë‰´ íƒ­) -->
  <div id="sidebar">
    <div class="sidebar-header">
      <span>ğŸ“‹ ë©”ë‰´</span>
      <span class="close-btn" onclick="toggleSidebar()">&times;</span>
    </div>
    <ul class="sidebar-menu">
      <li onclick="showRSContent()">ìƒëŒ€ê°•ë„(RS)ë€?</li>
      <li onclick="showDevIntro()">ì‚¬ì´íŠ¸ ê°œë°œì ì†Œê°œ</li>
    </ul>
    <div class="sidebar-content" id="sidebarContent">
      <!-- í´ë¦­ ì‹œ ì—¬ê¸°ì— ë‚´ìš©ì´ ë™ì ìœ¼ë¡œ í‘œì‹œë¨ -->
    </div>
  </div>

  <script>
    /*********************************************
     * ì „ì—­ ë³€ìˆ˜ & ì´ˆê¸° ì„¤ì •
     *********************************************/
    let allStocks = []; 
    let currentPage = 1;
    let totalPages = 1;
    const limit = 100;
    let filteredStocks = [];
    const API_URL = "https://backend-for-rs-production.up.railway.app/api/stocks"; 

    // ì‚¬ì´ë“œë°” ì—´ê³  ë‹«ê¸°
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("open");
    }

    // [1] ì‚¬ì´ë“œë°”ì—ì„œ "ìƒëŒ€ê°•ë„(RS)ë€?" í´ë¦­ ì‹œ í‘œì‹œí•  í…ìŠ¤íŠ¸
    const rsText = `
<h3>ìƒëŒ€ê°•ë„(RS)ë€?</h3>
<p>
<strong>ìƒëŒ€ê°•ë„(Relative Strength, RS)</strong>ëŠ” íŠ¹ì • ì£¼ì‹ì´ ì‹œì¥ ì „ì²´ ë˜ëŠ” ë‹¤ë¥¸ ì¢…ëª© ëŒ€ë¹„ ì–¼ë§ˆë‚˜ ê°•í•œ ìƒìŠ¹ì„¸ë¥¼ ë³´ì´ëŠ”ì§€ë¥¼ ì¸¡ì •í•˜ëŠ” ì§€í‘œì…ë‹ˆë‹¤. 
ë‹¨ìˆœ ë“±ë½ë¥  ë¹„êµê°€ ì•„ë‹ˆë¼, ìµœê·¼ ì¼ì • ê¸°ê°„ ë™ì•ˆì˜ ì„±ê³¼ë¥¼ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ì—¬ ê°€ì¥ ê°•í•œ ì£¼ì‹ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒì´ í•µì‹¬ ëª©í‘œì…ë‹ˆë‹¤.
</p>
<h4>ğŸ“Œ ì£¼ìš” ê°œë…</h4>
<ul>
  <li>ìœŒë¦¬ì—„ ì˜¤ë‹(William O'Neil): CAN SLIMì—ì„œ <em>ìƒëŒ€ê°•ë„ì§€ìˆ˜(RS Rating)</em>ë¥¼ í™œìš©.</li>
  <li>ë§ˆí¬ ë¯¸ë„ˆë¹„ë‹ˆ(Mark Minervini): "SEPA(Stock Entry Point Analysis)" ì „ëµì—ì„œ, <strong>"ê°•í•œ ì£¼ì‹ì´ ë” ê°•í•´ì§„ë‹¤"</strong>ëŠ” ì›ì¹™ ê°•ì¡°.</li>
</ul>
<p>
âœ… ê°•í•œ ì¢…ëª©ì„ ì‚¬ì•¼ ë” ë†’ì€ ìˆ˜ìµì„ ê¸°ëŒ€í•  ìˆ˜ ìˆë‹¤.<br/>
âœ… ë‹¨ìˆœí•œ ì£¼ê°€ ìƒìŠ¹ë¥ ì´ ì•„ë‹Œ, ì‹œì¥ ëŒ€ë¹„ ì–¼ë§ˆë‚˜ ê°•í•œ ìƒìŠ¹ì„¸ë¥¼ ë³´ì˜€ëŠ”ì§€ê°€ ì¤‘ìš”í•˜ë‹¤.<br/>
âœ… ê¸°ìˆ ì  ê°•ì„¸ë¥¼ ë³´ì´ëŠ” ì£¼ì‹ì´ ì¶”ì„¸ë¥¼ ì§€ì†í•  í™•ë¥ ì´ ë†’ë‹¤.
</p>

<h4>ìƒëŒ€ê°•ë„(RS) ê³„ì‚° ë°©ë²•</h4>
<p>
ëŒ€í‘œì ì¸ ë°©ì‹ì€ ìœŒë¦¬ì—„ ì˜¤ë‹ì˜ <strong>RS Rating</strong> ê³„ì‚°ë²•ê³¼ ë§ˆí¬ ë¯¸ë„ˆë¹„ë‹ˆì˜ <strong>ìƒëŒ€ê°•ë„ ì ìˆ˜</strong> ì‚°ì • ë°©ì‹ì…ë‹ˆë‹¤.
</p>
<h5>âœ… 1. ìœŒë¦¬ì—„ ì˜¤ë‹ì˜ RS Rating ê³„ì‚°ë²•</h5>
<p>
ì§€ë‚œ 12ê°œì›”ê°„ ì£¼ê°€ ìƒìŠ¹ë¥ ì„ ì‹œì¥ ë‚´ ëª¨ë“  ì¢…ëª©ê³¼ ë¹„êµí•˜ì—¬ 
<b>ë°±ë¶„ìœ¨ ìˆœìœ„(1~99ì )</b>ë¡œ ì •ê·œí™”.<br/>
ì˜ˆ: RS Ratingì´ 90ì´ë¼ë©´, ì‹œì¥ ë‚´ 90% ì£¼ì‹ë³´ë‹¤ ê°•í•œ ìƒìŠ¹ë¥ ì„ ê¸°ë¡í–ˆë‹¤ëŠ” ì˜ë¯¸.
</p>
<p>
<strong>ê³„ì‚° ë°©ì‹:</strong><br/>
1) ìµœê·¼ 12ê°œì›” ë™ì•ˆì˜ ì£¼ê°€ ìƒìŠ¹ë¥  ê³„ì‚°<br/>
2) ì´ë¥¼ ëª¨ë“  ì¢…ëª©ê³¼ ë¹„êµ, í¼ì„¼íƒ€ì¼ ìˆœìœ„(Percentile Ranking) ë§¤ê¹€<br/>
3) ìƒìœ„ 99ì ì´ ê°€ì¥ ê°•í•œ ì£¼ì‹, 1ì ì´ ê°€ì¥ ì•½í•œ ì£¼ì‹
</p>
<p>
<strong>í•´ì„ ë°©ë²•:</strong><br/>
âœ” RS Rating 80 ì´ìƒ: ê°•í•œ ì¢…ëª©<br/>
âœ” RS Rating 90 ì´ìƒ: ì´ˆê°•ì„¸ ì¢…ëª©<br/>
âœ” RS Rating 60 ë¯¸ë§Œ: ì‹œì¥ ëŒ€ë¹„ ì•½í•œ ì¢…ëª©
</p>

<h5>âœ… 2. ë§ˆí¬ ë¯¸ë„ˆë¹„ë‹ˆì˜ ìƒëŒ€ê°•ë„ ì ìˆ˜ ê³„ì‚°ë²•</h5>
<p>
ë¯¸ë„ˆë¹„ë‹ˆëŠ” ë‹¨ìˆœíˆ 12ê°œì›” ìˆ˜ìµë¥ ë§Œ ë³´ëŠ” ê²Œ ì•„ë‹ˆë¼, 
ë‹¨ê¸°Â·ì¤‘ê¸° ëª¨ë©˜í…€ì„ ì¢…í•©í‰ê°€í•˜ì—¬ ìƒëŒ€ê°•ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.
</p>
<p>
<strong>ê³„ì‚° ê³µì‹:</strong><br/>
<code>RS = (2ì£¼ ìˆ˜ìµë¥  Ã— 2) + 1ê°œì›” ìˆ˜ìµë¥  + 3ê°œì›” ìˆ˜ìµë¥  + 6ê°œì›” ìˆ˜ìµë¥ </code><br/>
âœ” 2ì£¼ ìˆ˜ìµë¥ ì— 2ë°° ê°€ì¤‘ â†’ ìµœê·¼ ìƒìŠ¹ ì¶”ì„¸ ë°˜ì˜<br/>
âœ” ì¥ê¸° ìˆ˜ìµë¥ ë„ ë°˜ì˜ â†’ ì§€ì†ì  ìƒìŠ¹ ì¢…ëª© ê°•ì¡°<br/>
âœ” ì ìˆ˜ë¥¼ 1~99ë¡œ ì •ê·œí™”í•˜ì—¬ ë¹„êµ
</p>
<p>
<strong>ì˜ˆì‹œ ê³„ì‚°:</strong><br/>
A ì¢…ëª©:<br/>
2ì£¼:+5%, 1ê°œì›”:+8%, 3ê°œì›”:+12%, 6ê°œì›”:+20%<br/>
<code>RS = (5Ã—2)+8+12+20 = 50</code><br/>
B ì¢…ëª©:<br/>
2ì£¼:+3%, 1ê°œì›”:+5%, 3ê°œì›”:+10%, 6ê°œì›”:+15%<br/>
<code>RS = (3Ã—2)+5+10+15 = 36</code><br/>
â†’ A ì¢…ëª©ì´ ë” ê°•í•œ ì¢…ëª©ìœ¼ë¡œ í‰ê°€.
</p>
`;

    // [2] ì‚¬ì´ë“œë°”ì—ì„œ "ì‚¬ì´íŠ¸ ê°œë°œì ì†Œê°œ" í´ë¦­ ì‹œ í‘œì‹œí•  í…ìŠ¤íŠ¸
    const devIntro = `
<h3>ğŸ“š í•œì–‘ëŒ€ìƒì˜ ê²½ì œ & ì£¼ì‹ ìŠ¤í„°ë”” ë¸”ë¡œê·¸</h3>
<p>
ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” í•œì–‘ëŒ€í•™êµì—ì„œ ê²½ì œê¸ˆìœµí•™ê³¼ì™€ ì†Œí”„íŠ¸ì›¨ì–´ìœµí•©ì„ ì „ê³µ ì¤‘ì¸ ëŒ€í•™ìƒì…ë‹ˆë‹¤.
ê³µë¶€í•œ ë‚´ìš©ì„ ê¸°ë¡í•˜ê³  ê³µìœ í•˜ê¸° ìœ„í•´ <strong>ë„¤ì´ë²„ ë¸”ë¡œê·¸</strong>ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì•„ì§ ë°°ìš¸ ê²ƒì´ ë§ì§€ë§Œ, ë§¤ì¼ ì¡°ê¸ˆì”© ì„±ì¥í•˜ëŠ” ê³¼ì • ì†ì—ì„œ 
ê²½ì œì™€ ì£¼ì‹ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ë‚˜ëˆ„ê³ ì í•©ë‹ˆë‹¤.
</p>

<p><strong>ğŸ“Œ ë„¤ì´ë²„ ë¸”ë¡œê·¸:</strong> <em>jangsdaytrading</em></p>

<h4>ğŸ’¡ ì£¼ì‹ ê³µë¶€ & íŠ¸ë ˆì´ë”© ìŠ¤í„°ë””</h4>
<ul>
  <li>ìœŒë¦¬ì—„ ì˜¤ë‹(William Oâ€™Neil) íˆ¬ì ì „ëµ â†’ ëŒíŒŒë§¤ë§¤(Breakout Trading) ê´€ì‹¬</li>
  <li>ìƒëŒ€ê°•ë„(RS) ì§€í‘œ ì ê·¹ í™œìš©</li>
  <li>ê¸°ìˆ ì  ë¶„ì„ + ê²½ì œ íë¦„ + ë§¤ë§¤ íŒ¨í„´ ì—°êµ¬</li>
</ul>

<h4>ğŸ“ˆ í•œêµ­ ì£¼ì‹ì‹œì¥ & ê²½ì œ íë¦„ ì—°êµ¬</h4>
<p>
í•œêµ­ ì£¼ì‹ì‹œì¥ì—ì„œ íŠ¸ë ˆì´ë”©í•˜ë©°, ë‹¤ì–‘í•œ ìë£Œë¥¼ ë¶„ì„í•˜ì—¬ 
ì•ˆì •ì ì´ê³  ì§€ì†ê°€ëŠ¥í•œ íˆ¬ì ì „ëµì„ ëª¨ìƒ‰ ì¤‘ì…ë‹ˆë‹¤.
</p>
<ul>
  <li>ì‹¤ì „ ë§¤ë§¤ ì‚¬ë¡€ ì •ë¦¬ & íŠ¸ë ˆì´ë”© ë³µê¸°</li>
  <li>ê²½ì œ ì´ìŠˆ ë¶„ì„ & ì‹œì¥ ì „ë§</li>
  <li>ê¸°ìˆ ì  ë¶„ì„ & RS ê¸°ë°˜ ì¢…ëª© ë°œêµ´</li>
</ul>

<h4>âœ ë§¤ì¼ 1ê°œì”© ê²½ì œ ê´€ë ¨ í¬ìŠ¤íŒ…</h4>
<p>
ê¾¸ì¤€íˆ ê²½ì œ ê´€ë ¨ ê²Œì‹œë¬¼ì„ ì‘ì„±, ì‹œì¥ íë¦„ì„ ë¶„ì„í•˜ë©° 
íˆ¬ìì— ëŒ€í•œ ìƒê°ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
</p>
<ul>
  <li>ê¸€ë¡œë²Œ ê²½ì œ ë‰´ìŠ¤ & ì‹œì¥ ë™í–¥ ë¶„ì„</li>
  <li>í•œêµ­ ì£¼ì‹ì‹œì¥ íŠ¸ë Œë“œ ë° íˆ¬ì ì•„ì´ë””ì–´ ê³µìœ </li>
  <li>ì‹¤ì „ ë§¤ë§¤ ë³µê¸° & ë°°ìš´ ì  ê¸°ë¡</li>
</ul>

<p>
<strong>ğŸ“Œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë°©ë¬¸í•˜ê¸°</strong> â†’ <em>jangsdaytrading</em><br/>
í•¨ê»˜ ê³µë¶€í•˜ë©° ì„±ì¥í•˜ëŠ” ê³µê°„ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤!
</p>
`;

    // ì‚¬ì´ë“œë°” ì»¨í…ì¸  êµì²´
    function showRSContent() {
      document.getElementById("sidebarContent").innerHTML = rsText;
    }
    function showDevIntro() {
      document.getElementById("sidebarContent").innerHTML = devIntro;
    }

    /*********************************************
     * [í‘œ] ë°ì´í„° ë¡œë“œ & ê²€ìƒ‰ & í˜ì´ì§€ë„¤ì´ì…˜
     *********************************************/
    // ì´ˆê¸° ëª¨ë“  ë°ì´í„° ë¡œë“œ
    async function fetchAllStocks() {
      try {
        // ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„  ì„œë²„ í˜ì´ì§•ì„ ê¶Œì¥í•˜ì§€ë§Œ, ì—¬ê¸°ì„  ë‹¨ìˆœíˆ ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ê°€ì ¸ì™€ í•„í„°/í˜ì´ì§€ë„¤ì´ì…˜
        const response = await fetch(`${API_URL}?page=1&limit=10000`);
        const data = await response.json();

        allStocks = data.stocks;
        totalPages = Math.ceil(allStocks.length / limit);
        filteredStocks = [...allStocks];

        updateTable(getCurrentPageData());
        updatePagination();
        getUpdateTime();
      } catch (error) {
        console.error("âŒ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
      }
    }

    function getUpdateTime() {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();

      let updateDate;
      if (hours > 15 || (hours === 15 && minutes >= 30)) {
        updateDate = now;
      } else {
        updateDate = new Date();
        updateDate.setDate(updateDate.getDate() - 1);
      }

      const year = updateDate.getFullYear();
      const month = String(updateDate.getMonth() + 1).padStart(2, "0");
      const day = String(updateDate.getDate()).padStart(2, "0");

      document.getElementById("updateTime").innerHTML =
        `ğŸ“… ë°ì´í„° ê¸°ì¤€: ${year}.${month}.${day} ì˜¤í›„ 3:30`;
    }

    function getCurrentPageData() {
      const startIdx = (currentPage - 1) * limit;
      return filteredStocks.slice(startIdx, startIdx + limit);
    }

    function updateTable(stocks) {
      const tbody = document.querySelector("#stockTable tbody");
      let html = "";

      stocks.forEach(stock => {
        // ë°±ì—”ë“œì—ì„œ ì´ë¯¸ + / -ê°€ í¬í•¨ëœ ë¬¸ìì—´ì„ ì£¼ë¯€ë¡œ, ê·¸ëŒ€ë¡œ ì¶œë ¥
        let increaseRate = `<span style="color: red;">${stock["lowest_increase_rate"]}</span>`;
        let decreaseRate = `<span style="color: blue;">${stock["highest_decrease_rate"]}</span>`;

        html += `<tr>
          <td>
            <a href="https://finance.naver.com/item/main.naver?code=${stock.ì¢…ëª©ì½”ë“œ}"
               target="_blank">${stock.ì¢…ëª©ì½”ë“œ}</a>
          </td>
          <td>${stock.ì´ë¦„}</td>
          <td>${stock.ì¢…ê°€}</td>
          <td>${Number(stock.relative_strength).toFixed(2)}</td>
          <td>${increaseRate}</td>
          <td>${decreaseRate}</td>
          <td>${stock.ì„¹í„°}</td>
          <td>${stock["ì„¹í„° ìˆ˜ìµë¥  ìˆœìœ„"]}</td>
          <td>${stock.ì‹œê°€ì´ì•¡}</td>
        </tr>`;
      });

      tbody.innerHTML = html;
    }

    function updatePagination() {
      const paginationDiv = document.getElementById("pagination");
      paginationDiv.innerHTML = "";

      // ì´ì „
      paginationDiv.innerHTML += `
        <button onclick="changePage(${currentPage - 1})"
          ${currentPage === 1 ? "disabled" : ""}>ì´ì „</button>`;

      // í˜ì´ì§€ ë²ˆí˜¸ë“¤
      for (let i = 1; i <= totalPages; i++) {
        paginationDiv.innerHTML += `
          <button onclick="changePage(${i})"
            ${i === currentPage ? "disabled" : ""}>${i}</button>`;
      }

      // ë‹¤ìŒ
      paginationDiv.innerHTML += `
        <button onclick="changePage(${currentPage + 1})"
          ${currentPage === totalPages ? "disabled" : ""}>ë‹¤ìŒ</button>`;
    }

    function changePage(page) {
      if (page >= 1 && page <= totalPages) {
        currentPage = page;
        updateTable(getCurrentPageData());
        updatePagination();
        // í˜ì´ì§€ ì „í™˜ ì‹œ ìŠ¤í¬ë¡¤ ìµœìƒë‹¨ ì´ë™
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
    }

    function filterTable() {
      const searchTerm = document
        .getElementById("searchInput")
        .value.trim()
        .toLowerCase();

      filteredStocks = allStocks.filter(stock =>
        stock.ì´ë¦„.toLowerCase().includes(searchTerm)
      );

      totalPages = Math.ceil(filteredStocks.length / limit);
      currentPage = 1;
      updateTable(getCurrentPageData());
      updatePagination();
    }

    // ì—”í„°í‚¤ë¡œ ê²€ìƒ‰
    document.getElementById("searchInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        filterTable();
      }
    });

    // í˜ì´ì§€ ë¡œë“œì‹œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
    fetchAllStocks();
  </script>
</body>
</html>

